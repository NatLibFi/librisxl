/* 
Find all bib instanceOf.version including
 instanceOf.expressionOf.version
 instanceOf.hasPart.version
 instanceOf.relationship.entity.version

(approx 8.6k bibs)

be wary of doing a general version sweep because of correct use of version in Classification and Instance titles.
also leave version in subjects
*/

// version -> marc:arrangedStatementForMusic
OLD_PROP = 'version'
NEW_PROP = 'marc:arrangedStatementForMusic'

def where = """
  collection = 'bib' AND
  (
    data#>>'{@graph,1,instanceOf,version}' OR 
    data#>>'{@graph,1,instanceOf,expressionOfversion}' OR 
    data#>>'{@graph,1,instanceOf,hasPart,version}' OR
    data#>>'{@graph,1,instanceOf,relationship,entity,version}' IS NOT NULL
    ) AND
  deleted = false
"""
// Not type Text?

/* separate auth?

Also auth Works has version and hasVariant.version

def where = """
  collection = 'auth' AND
  (
    data#>>'{@graph,1,version}' OR 
    data#>>'{@graph,1,hasVariant,version}'
    ) IS NOT NULL
  AND deleted = false
"""


